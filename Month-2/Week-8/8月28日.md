## 新需求

[HK白标EDDA需求-前端](http://jira.yxzq.com/browse/COMOMAPP-452)

### 项目所需 node 版本

- youxin-admin-transaction——12.22.12
- admin-broker-main——14.16.0
- admin-broker-capital——14.16.0
- admin-broker-admin——12.22.12

### 前端提测日期

- 9月5号

### 迁移项目流程

了解项目-->配置路由-->填充html和js逻辑-->调试接口-->css调整

​	

### Bug

- [x] 银行信息维护：`eddaBankState`、`defaultEddaBankCodeDTOList`、`eddaSupportIdentity`，三个字段调用修改接口 ` /intel-trade/admin-api/admin-bank-bankInfo-update/v1` 后，获取列表发现值未修改
- [x] EDDA手续费配置找不到在哪里项目（在 youxin-admin-account 里，因为各个项目都有前缀，故 `repository` 目录可以存放所有项目在根目录，不必再分级）
- [ ] 线上转账开户审核 `admin-broker-admin`：http://jira.yxzq.com/browse/COMOMAPP-454@ 邱泽楷(Ben) 看下页面布局的，提交接口等旅游提供给你，你再同步下
  - [x] 页面布局（未合并到sit）
  - [ ] 重新开户接口调试
- [ ] edda授权管理（auth-manage）：接口尚为放置正确接口文件中，请根据[接口文档](https://jy-ruifeng.inteltrade.hk/doc.html#/%E8%B5%84%E4%BA%A7%E6%A8%A1%E5%9D%97/app-Config%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3/queryAccountBillUsingPOST)搜索接口名进行验证归位

​	

### EAAD授权管理

接口 `/stock-capital-server/admin-api/query-edda-message/v1` 返回数据类型

```json
{
    "code": 0,
    "data": {
        "list": [
            {
                "auditFailReason": "",
                "auditFailReasonEnglish": "",
                "auditFailReasonTradition": "",
                "auditStatus": 10,
                "bankAccountCurrency": "MAC",
                "bankAccountName": "MO CHINA",
                "bankAccountNo": "012-35678",
                "bankChannel": 0,
                "bankCode": "HSBC",
                "bankIdentifyId": "34134314134666666",
                "bankIdentifyImageLink": "",
                "bankIdentifyType": 1,
                "bankName": "汇丰银行",
                "bankNameEnglish": "The Hongkong and Shanghai Banking",
                "bankNameTraditional": "匯豐銀行",
                "bankNumber": "004",
                "chineseName": "莫云雯",
                "createdTime": "2019-12-26 20:44:32",
                "dbsRejectCode": "",
                "ddaRef": "",
                "dealFinishTime": null,
                "eddaBankState": 1,
                "eddaStatus": 40,
                "englishName": "",
                "extendData": "",
                "failReason": "",
                "familyNameSpell": "mo",
                "finalStatus": 40,
                "firstNameSpell": "china",
                "hsFundAccount": "12000299",
                "id": "727752755099410432",
                "identifyNumber": "34134314134666666",
                "identifyType": 1,
                "isValidAuth": 0,
                "latestApplicationTime": "2019-12-27 14:13:24",
                "mandateAmount": 20000.00,
                "mandateCurrency": "HKD",
                "mandateId": "",
                "openAuthType": 1,
                "remark": "",
                "updatedTime": "2019-12-30 11:46:04",
                "userId": "330856529813295104",
                "userShortId": "1716",
                "version": 0,
                "yxBankAccountNo": "001055946",
                "yxBankName": "yxzq"
            },
```

- auth-manage/list*.js 属性已做删除，如有需要增加回原来的，请前往 `youxin-admin-transaction` 对应路径 `src\pages\bussiness-manage\edda\auth-manage\list.js` 重新添加

### 小结

1. 控制台很多error或warn 都是连锁报错的，如果是连锁报错，只要能解决源头，其他问题也会相应被解决

### 历史报错记录

#### [Vue warn]: Duplicate keys detected: 'bankChannel'. This may cause an update error.

![image-20230829171245567](8月28日.assets/image-20230829171245567.png)

### 探索

王世桥：@董焕(Colin) @邱泽楷(Ben) 适配一下桶名， 生产的应该是prd

王世桥：桶名uat 访问生产域名就会跨域

王世桥：![image-20230829173517015](8月28日.assets/image-20230829173517015.png)

王世桥：这个要改成生产的桶名

陈颖：我看了下预生产访问到uat那边

- [ ] 项目是 `admin-broker-admin` 桶在 `DOMAIN.js` 里配，目前还不懂配置，等董哥待会合并代码后学习一下

---

### 补充知识点

#### eDDA

電子直接付款授權(eDDA)允許收款人直接向付款人收取款項。付款人可向指定的收款人設立電子直接付款授權指示，決定其最高金額、生效日期長度和週期，完成設立後可即時生效*。與此同時，商戶亦可向付款人要求設立電子直接付款授權。在電子直接付款授權生效後，本行會根據指示向相關的收款人付款。

#### CFO

CFO 是 Chief Financial Officer（首席财务官）的缩写。CFO 是一个高级管理职位，通常在组织中负责财务和会计方面的决策、战略规划以及财务管理。CFO 在组织中的角色非常重要，因为他们负责确保财务健康和稳定，以支持公司的运营和增长。

CFO 的职责和职能可能包括：

1. 财务战略：制定和执行财务策略，以确保公司达到财务目标并支持业务增长。

2. 预算和规划：制定年度预算，监督资金规划，确保资源的合理分配。

3. 资本管理：管理公司的资金流动，包括资本支出和运营资金。

4. 财务报告：负责准备和分析财务报表，向高层管理层和股东提供关键的财务信息。

5. 风险管理：评估和管理财务风险，制定适当的风险管理策略。

6. 投资决策：参与投资决策，评估并推动项目的财务可行性。

7. 资金筹集：负责寻找和筹集资金，管理债务和股本结构。

8. 法律合规：确保财务活动符合法律法规和会计准则。

9. 股东关系：与投资者和股东保持沟通，提供关于公司财务表现的信息。

10. 财务团队管理：领导和管理财务团队，确保财务职能的高效运作。

CFO 在公司的高级管理团队中扮演着至关重要的角色，他们的决策和战略直接影响着公司的财务稳定和未来发展。

####  i 标签

`<i>` 标签是 HTML 中的内联元素，通常被用来表示文本中的斜体或图标。然而，需要注意的是，虽然 `<i>` 最初被用来表示斜体文本，但在语义上它并不是表示斜体的最佳选择。

如果你想使用图标，建议使用专门的图标字体、SVG 图标或其他图标库，而不是滥用 `<i>` 标签。在某些情况下，开发者也会使用 CSS 类来为元素添加图标样式。

#### el-date-picker

`el-date-picker` 是 Element UI 框架中的一个日期选择器组件，用于在网页应用程序中方便地选择日期和时间。

#### 这里这些选择器是递进关系吗，最终改变的只有 .el-input 样式？

```css
.yx-container .search-box.el-form .el-form-item .area-code__select .el-input {
    width: 130px;
    margin-right: 10px;
}
```

是的，你理解得很正确。这些选择器是逐层递进的关系，最终只改变了 `.el-input` 元素的样式。让我再次解释一下这个选择器链的关系：

1. `.yx-container`：选择具有 `yx-container` 类的元素（可能是一个容器）。

2. `.search-box.el-form`：在 `.yx-container` 选择的元素中，再选择同时具有 `search-box` 类和 `el-form` 类的元素（可能是一个搜索框和表单组合）。

3. `.el-form-item`：在 `.search-box.el-form` 选择的元素中，再选择具有 `el-form-item` 类的元素（可能是表单项）。

4. `.area-code__select`：在 `.el-form-item` 选择的元素中，再选择具有 `area-code__select` 类的元素（可能是一个选择区域码的下拉菜单）。

5. `.el-input`：在 `.area-code__select` 选择的元素中，再选择具有 `el-input` 类的元素（可能是一个输入框）。

最终，上述选择器链中的所有层级都将影响到最后一个选择器 `.el-input` 所选中的元素，从而改变它的样式。其他层级的选择器是为了更精确地定位到想要改变样式的元素，而 `.el-input` 选择器最终定义了实际的样式规则。

#### beforeRouteEnter

`beforeRouteEnter(to, from, next)` 第一次进入时执行，第二次进入相同的路由的时候，不会执行。

#### :visible.sync

**el-dialog组件里的:visible.sync="reOpenAccountDialogVisit" 是什么意思？**

`el-dialog` 是 Element UI 组件库中的一个用于创建对话框（弹出框）的组件。`:visible.sync` 是 `el-dialog` 组件的一个属性，用于控制对话框是否显示，并且通过双向绑定来实现状态的同步。

让我逐步解释这段代码的含义：

- `el-dialog`：这是一个 Element UI 的对话框组件。

- `:visible.sync`：这是 `el-dialog` 组件的属性，`.sync` 是 Vue.js 中的一个修饰符，用于在子组件和父组件之间建立双向绑定。在这个上下文中，它用于将对话框的显示状态与父组件中的一个数据属性进行双向绑定。

- `"reOpenAccountDialogVisit"`：这是父组件中的一个数据属性，表示对话框的显示状态。在 `el-dialog` 组件中，将该属性与对话框的显示状态进行双向绑定。

所以，这段代码的作用是，通过将 `el-dialog` 组件的显示状态与父组件中名为 `"reOpenAccountDialogVisit"` 的数据属性进行双向绑定，实现了打开和关闭对话框的功能。当父组件中的 `"reOpenAccountDialogVisit"` 数据属性变化时，对话框的显示状态也会随之变化，反之亦然。这种双向绑定的方式使得在父子组件之间共享对话框的显示状态变得更加方便。

#### eDIRO是什么，和eDDA有什么联系吗

eDIRO 和 eDDA 都是与银行和金融领域相关的术语，但它们指代不同的概念。让我为你解释一下它们的含义以及可能的联系：

1. **eDIRO（电子交易确认系统）：** eDIRO 是 "Electronic Deal Input, Review and Output" 的缩写，意为电子交易输入、审核和输出系统。它通常是金融机构或交易所使用的一种系统，用于电子化处理和管理金融交易的确认、审核和输出。eDIRO 系统可以帮助金融机构提高交易处理效率、降低错误率，并实现交易数据的实时监控和管理。

2. **eDDA（电子直达协议）：** eDDA 是 "Electronic Direct Debit Authorization" 的缩写，意为电子直达扣款授权。它是一种用于银行扣款授权的电子化方式。传统上，人们需要填写纸质表单来授权银行从其账户中扣款，而 eDDA 则允许客户通过电子渠道（如互联网银行、移动应用等）进行扣款授权，更加方便快捷。

虽然 eDIRO 和 eDDA 都涉及到电子化的金融流程，但它们的具体领域和功能不同，没有直接的联系。eDIRO 更关注于交易确认和处理的系统，而 eDDA 更关注于扣款授权的电子化方式。它们可能在金融机构的业务中分别发挥着不同的作用，但并没有直接的功能关联。